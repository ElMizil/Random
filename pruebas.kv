MDScreen:
    ScreenManager:
        id: screen_manager
        Screen:
            name: "inicio"
            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: "#1E1E15"
                adaptative_width : True
                adaptative_height : True

                MDTopAppBar:
                    title: "Randomly"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                MDLabel:
                    text: "Welcome to Randomly"+ "\n Let a program choose your next task"
                    halign: "center"
                    size_hint_y: 0.7
                    canvas.before:
                        Color:
                            rgba: 1, 0, 0, 1  # Set the border color (red)
                        Line:
                            rectangle: self.x, self.y, self.width, self.height
                
                MDBoxLayout:
                    orientation: "horizontal"
                    spacing:"10dp"
                    adaptative_width : True
                    adaptative_height : True
                    size_hint_x: 0.5
                    pos_hint: {'x': 0.27}
                    canvas.before:
                        Color:
                            rgba: 1, 0, 0, 1  # Set the border color (red)
                        Line:
                            rectangle: self.x, self.y, self.width, self.height
                
                    MDTextField:
                        hint_text: "Write options here"
                        helper_text: "Separate each option by a space"
                        helper_text_mode: "persistent"
                        pos_hint_y: None
                        size_hint_y: 0.5
                        canvas.before:
                            Color:
                                rgba: 0, 1, 0, 1  # Set the border color (red)
                            Line:
                                rectangle: self.x, self.y, self.width, self.height


                    MDRaisedButton:
                        text: "Add"
                        halign: "center"
                        pos_hint_y: 1
                        canvas.before:
                            Color:
                                rgba: 0, 1, 0, 1  # Set the border color (red)
                            Line:
                                rectangle: self.x, self.y, self.width, self.height

        Screen:
            name: "listas"
            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: "#1E1E15"
                adaptative_width : True
                adaptative_height : True

                MDTopAppBar:
                    title: "Randomly"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                MDLabel:
                    text: "Welcome to the Lists Menu"
                    halign: "center"
                    font_style: "H4"
                
                MDLabel:
                    text: "Guide:"

                MDLabel:
                    text: "Create list: Option to create a new list and initialize some options(other options can be add or delete after)"

                MDLabel:
                    text: "Edit list: Option to edit a list and add or delete options"

                MDLabel:
                    text: "Delete list: Option to delete a list"

                MDBoxLayout:
                    orientation: "horizontal"
                
                    MDRaisedButton:
                        text: "[b]Create list[/b]"
                        size_hint_x: 0.3 
                        size_hint_y: 0.5
                        line_color: "yellow"
                        text_color: "black"
                        markup: True
                        on_release: screen_manager.current = "list_creator"
                        

                    MDRaisedButton:
                        id: edit_button
                        text: "[b]Edit list[/b]"
                        size_hint_x: 0.3 
                        size_hint_y: 0.5
                        line_color: "yellow"
                        text_color: "black"
                        markup: True
                        on_release: app.menu_open(1)

                    MDRaisedButton:
                        id: delete_button
                        text: "[b]Delete list[/b]"
                        size_hint_x: 0.3 
                        size_hint_y: 0.5
                        line_color: "yellow"
                        text_color: "black"
                        markup: True
                        on_release: app.menu_open()

        Screen:
            name: "ajustes"
            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: "#1E1E15"
                adaptative_width : True
                adaptative_height : True

                MDTopAppBar:
                    title: "Randomly"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                MDLabel:
                    text: "Settings"

                

        Screen:
            id: el
            name: "edit_list"
            MDBoxLayout:
                id: elist_layout
                orientation: "vertical"
                md_bg_color: "#1E1E15"
                spacing: '5dp'
                adaptative_width : True
                adaptative_height : True
                canvas.before:
                    Color:
                        rgba: 1, 0, 0, 1  # Set the border color (red)
                    Line:
                        rectangle: self.x, self.y, self.width, self.height


                MDRaisedButton:
                    text: "Back"
                    pos_hint: {'x': 0}
                    on_release: screen_manager.current="listas"
                    canvas.before:
                        Color:
                            rgba: 0, 1, 0, 1  # Set the border color (red)
                        Line:
                            rectangle: self.x, self.y, self.width, self.height


                MDLabel:
                    id: elist_title
                    font_style: "H5"
                    halign: "center"
                    size_hint_y: 1
                    canvas.before:
                        Color:
                            rgba: 1, 0, 0, 1  # Set the border color (red)
                        Line:
                            rectangle: self.x, self.y, self.width, self.height

                
                MDBoxLayout:
                    orientation: "horizontal"
                    spacing:"5dp"
                    adaptative_width : True
                    adaptative_height : True
                    size_hint_x: 0.5
                    pos_hint: {'x': 0.27, 'y': 0.1}
                    canvas.before:
                        Color:
                            rgba: 1, 0, 0, 1  # Set the border color (red)
                        Line:
                            rectangle: self.x, self.y, self.width, self.height


                    MDTextField:
                        id: new_option
                        hint_text: "Add new option"
                        pos_hint: {'x':0.3, 'y':1}

                    MDRaisedButton:
                        text: "Add option"
                        pos_hint: {'x':0.3, 'y':1}
                        on_release: app.add_option()
                
                MDBoxLayout:
                    id: el_layout
                    orientation: "vertical"
                    spacing:"10dp"
                    adaptative_width : True
                    adaptative_height : True
                    size_hint_x: 0.5
                    size_hint_y: None
                    pos_hint: {'x': 0.27}
                    canvas.before:
                        Color:
                            rgba: 0, 0, 1, 1  # Set the border color (red)
                        Line:
                            rectangle: self.x, self.y, self.width, self.height

        Screen:
            id: lc
            name: "list_creator"
            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: "#1E1E15"
                adaptative_width : True
                adaptative_height : True
                spacing: "20dp"
                padding: "10dp"

                MDLabel:
                    text:"List Creator"
                    halign: "center"
                    font_style: "H4"
                    size_hint: 1, .2
                    pos_hint: {"center_x":0.5, "center_y":0.1}

                MDTextField:
                    id: list_title
                    hint_text: "Enter the list title"
                    width: "200dp"
                    size_hint: .5, None
                    pos_hint: {"center_x":0.5, "center_y":0.3}

                MDTextField:
                    id: list_options
                    hint_text: "Enter options(optional)"
                    helper_text: "Separate each option by a space"
                    helper_text_mode: "persistent"
                    width: "200dp"
                    size_hint: .5, None
                    pos_hint: {"center_x":0.5, "center_y":0.3}

                MDRaisedButton:
                    text: "Create list"
                    size_hint: .2, None
                    pos_hint: {"center_x":0.5}
                    on_release: app.create_list()
                
                MDRaisedButton:
                    text: "Cancel"
                    size_hint: .2, None
                    pos_hint: {"center_x":0.5}
                    on_release: 
                        screen_manager.current = "listas"


    MDNavigationDrawer:
        id: nav_drawer
        radius: (0,16,16,0)

        MDNavigationDrawerMenu:
            
            MDNavigationDrawerHeader:
                title: "Randomly"
                text: "Menu"    
                spacing: "4dp"
                padding: "12dp", 0, 0, "56dp"

            OneLineListItem:
                text: "Random"
                on_release: 
                    screen_manager.current = "inicio"
                    nav_drawer.set_state("close")

            OneLineListItem:
                text: "Lists"
                on_release: 
                    screen_manager.current = "listas"
                    nav_drawer.set_state("close")

            OneLineListItem:
                text: "Settings"
                on_release:
                    screen_manager.current = "ajustes"
                    nav_drawer.set_state("close")
    

